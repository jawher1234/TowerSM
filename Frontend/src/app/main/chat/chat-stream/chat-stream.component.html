<mat-card class="custom-mat-card">
    <mat-card-content>
      <div class="chat-stream">
        <div class="stream-div">
          <div class="chat-message-wrapper" *ngFor="let message of publishedMessage">
            <div [ngClass]="{'sent-message': isSentMessage(message), 'received-message': !isSentMessage(message)}" class="chat-message">
              <div class="chat-username">{{message.fromUserName}}</div>
              {{message.message}}
            </div>
          </div>
        </div>
      </div>
      <div class="message-form">
        <div *ngIf="showTypingIndicator" class="typing-indicator">{{typingUser}} is typing...</div>
        <form (ngSubmit)="sendMessage()">
          <mat-form-field style="width: 80%">
            <mat-label>Message</mat-label>
            <input matInput class="form-control" placeholder="Hello..." autocomplete="off" name="message" [(ngModel)]="message" (keypress)="sendTypeIndicator()">
          </mat-form-field>
          <button mat-icon-button style="transform: scale(1.5);">
            <mat-icon style="font-size: 24px;">send</mat-icon>
          </button>
        </form>
      </div>
    </mat-card-content>
  </mat-card>
  